<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Elite Pro | TC & Coach Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #D4AF37; --gold-light: #f1d592; --obsidian: #050505; --glass: rgba(255, 255, 255, 0.03); --glass-border: rgba(255, 255, 255, 0.1); --red: #ef4444; --green: #10b981; }
        
        body { 
            background-color: var(--obsidian); color: #e5e5e5; font-family: 'Inter', sans-serif;
            background-image: radial-gradient(circle at 50% 0%, rgba(212, 175, 55, 0.1) 0%, transparent 60%);
            background-attachment: fixed; padding-bottom: 80px;
        }

        /* CARDS & INPUTS */
        .section-card { 
            background: rgba(10, 10, 10, 0.7); border: 1px solid var(--glass-border); 
            padding: 30px; border-radius: 1.5rem; margin-bottom: 2rem; 
            backdrop-filter: blur(25px); box-shadow: 0 15px 35px rgba(0,0,0,0.6);
            position: relative; transition: 0.3s;
        }
        .section-card.locked { border-color: rgba(255,255,255,0.1); opacity: 0.8; pointer-events: none; }
        
        /* LOCK OVERLAY */
        .lock-badge {
            position: absolute; top: 20px; right: 20px;
            background: rgba(239, 68, 68, 0.2); color: var(--red); border: 1px solid var(--red);
            padding: 5px 15px; border-radius: 20px; font-weight: 900; text-transform: uppercase;
            font-size: 10px; display: none; z-index: 50; backdrop-filter: blur(10px);
        }

        .input-luxe { 
            background: rgba(0,0,0,0.4); border: 1px solid rgba(255, 255, 255, 0.1); 
            color: var(--gold-light); padding: 12px 16px; border-radius: 10px; 
            width: 100%; font-size: 13px; outline: none; transition: 0.3s;
        }
        .input-luxe:focus { border-color: var(--gold); background: rgba(0,0,0,0.8); }
        .input-luxe:disabled { opacity: 0.5; cursor: not-allowed; border-color: transparent; }
        
        .input-luxe:read-only { 
            background: rgba(255, 255, 255, 0.02); border-color: transparent; 
            cursor: default; color: #aaa; 
        }

        .input-error { border-color: var(--red) !important; background: rgba(239, 68, 68, 0.1) !important; }

        label { color: #888; font-size: 10px; text-transform: uppercase; font-weight: 800; letter-spacing: 1px; margin-bottom: 6px; display: block; }
        h3 { font-size: 13px; color: var(--gold); text-transform: uppercase; border-left: 3px solid var(--gold); padding-left: 15px; margin-bottom: 30px; font-weight: 900; letter-spacing: 2px; }

        /* SPELERSKAART */
        .player-card-container {
            position: relative; width: 280px; height: 400px; border-radius: 2rem;
            overflow: hidden; border: 2.5px solid var(--gold);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.2), 0 30px 60px rgba(0,0,0,0.9);
            background: #000;
        }
        .player-card-photo { width: 100%; height: 100%; object-fit: cover; opacity: 0.85; }
        .player-card-overlay {
            position: absolute; bottom: 0; left: 0; width: 100%; padding: 30px 20px;
            background: linear-gradient(to top, rgba(0,0,0,1) 15%, transparent 100%);
        }
        .player-card-number {
            position: absolute; top: 20px; right: 25px;
            font-size: 52px; font-weight: 900; color: #fff;
            text-shadow: 0 0 15px var(--gold); z-index: 10;
        }
        .player-card-name { font-size: 32px; font-weight: 900; font-style: italic; text-transform: uppercase; color: #fff; line-height: 0.85; }
        .player-card-info { font-size: 11px; font-weight: 800; color: var(--gold); text-transform: uppercase; letter-spacing: 2px; margin-top: 8px; }

        /* BUTTONS */
        .btn-gold { 
            background: linear-gradient(135deg, #D4AF37, #b8860b); color: black; 
            font-weight: 900; text-transform: uppercase; padding: 10px 24px; 
            border-radius: 10px; font-size: 11px; box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
            transition: 0.3s; cursor: pointer; border: none;
        }
        .btn-gold:hover { transform: scale(1.05); filter: brightness(1.2); }
        
        .btn-lock {
            background: linear-gradient(135deg, #ef4444, #991b1b); color: white;
            font-weight: 900; text-transform: uppercase; padding: 10px 24px;
            border-radius: 10px; font-size: 11px; box-shadow: 0 5px 15px rgba(239, 68, 68, 0.3);
            transition: 0.3s; cursor: pointer; border: none;
        }
        .btn-lock:hover { transform: scale(1.05); filter: brightness(1.2); }

        .radar-box { width: 100%; height: 300px; display: flex; align-items: center; justify-content: center; }
        .score-display { background: var(--gold); color: black; font-weight: 900; padding: 2px 8px; border-radius: 6px; min-width: 35px; text-align: center; }
        .slider-gold { accent-color: var(--gold); width: 100%; cursor: pointer; }
        
        .status-dot { height: 8px; width: 8px; border-radius: 50%; display: inline-block; margin-right: 5px; }
        .dot-green { background-color: var(--green); box-shadow: 0 0 5px var(--green); }
        .dot-orange { background-color: orange; box-shadow: 0 0 5px orange; }
        .dot-red { background-color: var(--red); box-shadow: 0 0 5px var(--red); }
        
        .no-print { display: flex; }

        /* --- PRINT PDF STYLING (A4 OPTIMIZED) --- */
        @media print {
            @page { size: A4; margin: 10mm; }
            body { 
                background-color: #050505 !important; 
                -webkit-print-color-adjust: exact !important; 
                print-color-adjust: exact !important;
                zoom: 0.85; /* Iets verkleinen om breedte goed te laten passen */
            }
            
            /* Verberg UI elementen */
            .no-print, header, #tcPanel, button, .lock-badge, .ai-btn { 
                display: none !important; 
            }

            /* Container aanpassingen */
            .max-w-7xl { max-width: 100% !important; margin: 0 !important; padding: 0 !important; }
            .p-4, .md\:p-8 { padding: 0 !important; }

            /* Card styling voor print */
            .section-card {
                break-inside: avoid; 
                page-break-inside: avoid;
                background-color: rgba(20, 20, 20, 1) !important;
                box-shadow: none !important;
                margin-bottom: 20px !important;
                border: 1px solid #333 !important;
            }

            /* Inputs eruit laten zien als tekst */
            input, select, textarea {
                background: transparent !important;
                border: none !important;
                color: #fff !important;
                padding: 0 !important;
                resize: none;
                font-weight: bold;
            }
            
            /* Slider verbergen, alleen score tonen */
            .slider-gold { display: none !important; }
            .score-display { border: 1px solid #444; }

            /* Radar chart fix */
            .radar-box { height: 250px !important; }
            
            /* Zorg dat titels zichtbaar zijn */
            h3 { color: #D4AF37 !important; border-left-color: #D4AF37 !important; }
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="flex flex-col xl:flex-row justify-between items-center mb-10 border-b border-white/10 pb-8 gap-6 no-print">
            <div class="flex items-center gap-6">
                <h1 class="text-4xl font-black italic text-white uppercase tracking-tighter leading-none">ELITE<span class="text-yellow-500">TERMINAL</span></h1>
                <nav class="flex gap-3">
                    <button type="button" onclick="document.getElementById('tcPanel').classList.toggle('hidden'); refreshTCMonitor();" class="bg-yellow-600/10 hover:bg-yellow-600/20 text-yellow-500 px-5 py-2 rounded-xl text-[10px] font-black uppercase border border-yellow-600/20 transition">
                        üìä TC Monitor
                    </button>
                </nav>
            </div>

            <div class="flex flex-col md:flex-row items-center gap-4">
                <div class="flex items-center gap-2 bg-black/40 border border-white/10 rounded-xl p-2">
                    <input type="password" id="ghToken" placeholder="GitHub Token" class="bg-transparent text-white text-[11px] px-2 outline-none w-24">
                    <button type="button" onclick="savePlayer('draft')" id="btnDraft" class="btn-gold" title="Opslaan als concept">üíæ Concept</button>
                    <button type="button" onclick="if(confirm('Weet u het zeker? Hierna is het dossier vergrendeld voor deze periode!')) savePlayer('locked')" id="btnFinal" class="btn-lock" title="Definitief maken en vergrendelen">üîí Definitief</button>
                </div>

                <div class="flex items-center gap-2 bg-black/40 border border-white/10 rounded-xl p-2">
                    <select id="assetSearch" class="bg-transparent text-yellow-500 font-black text-[11px] min-w-[150px] outline-none uppercase cursor-pointer"></select>
                    <button id="loadBtn" class="text-white text-[10px] font-bold px-3 hover:text-yellow-500 uppercase">Laden</button>
                </div>
            </div>
        </header>

        <div id="tcPanel" class="hidden mb-12 p-6 bg-black/80 border border-yellow-600/30 rounded-2xl animate-fade-in backdrop-blur-xl no-print">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-yellow-500 mb-0 border-none pl-0">TC Monitoring Bureau</h3>
                <div class="flex gap-4 text-[10px] font-bold uppercase">
                    <span class="flex items-center"><span class="status-dot dot-green"></span> Definitief</span>
                    <span class="flex items-center"><span class="status-dot dot-orange"></span> Concept</span>
                    <span class="flex items-center"><span class="status-dot dot-red"></span> Openstaand</span>
                </div>
            </div>
            <div id="tcTeamList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[400px] overflow-y-auto"></div>
        </div>

        <form id="proForm" class="space-y-8">
            <div id="cardIdentity" class="section-card grid grid-cols-1 lg:grid-cols-12 gap-12">
                <div class="lock-badge">üîí VERGRENDELD</div>
                <div class="lg:col-span-4 flex justify-center">
                    <div class="player-card-container">
                        <div id="dispNumber" class="player-card-number">--</div>
                        <img id="pPreviewImg" class="player-card-photo" src="https://via.placeholder.com/400x600/000000/FFFFFF?text=FOTO" alt="Preview">
                        <div class="player-card-overlay">
                            <div id="dispName" class="player-card-name">NAAM</div>
                            <div id="dispTeam" class="player-card-info">TEAM ‚Ä¢ POSITIE</div>
                        </div>
                    </div>
                </div>
                
                <div class="lg:col-span-8 grid grid-cols-1 md:grid-cols-2 gap-8 content-start">
                    <div class="space-y-5">
                        <div><label>Volledige Naam</label><input type="text" id="pName" class="input-luxe font-black uppercase" readonly></div>
                        <div>
                            <label>Rugnummer</label>
                            <input type="number" id="pNumber" class="input-luxe font-black" readonly>
                            <p id="dupWarning" class="text-red-500 text-[9px] mt-1 hidden font-bold">‚ö†Ô∏è NUMMER BEZET IN DIT TEAM</p>
                        </div>
                        <div><label>Team</label><input type="text" id="pTeam" class="input-luxe font-bold" readonly></div>
                    </div>
                    <div class="space-y-5">
                        <div><label>Positie</label><input type="text" id="pPos" class="input-luxe font-bold" readonly></div>
                        <div><label>Foto URL</label><input type="text" id="pPhotoUrl" class="input-luxe" readonly></div>
                        <div><label class="text-yellow-500">Beoordelingsperiode (Selecteer eerst)</label>
                            <select id="pPeriod" class="input-luxe font-black text-white bg-yellow-900/20" onchange="loadPeriodData()">
                                <option value="1e seizoenshelft">1e seizoenshelft</option>
                                <option value="2e seizoenshelft">2e seizoenshelft</option>
                                <option value="Eindbeoordeling">Eindbeoordeling</option>
                            </select>
                        </div>
                    </div>
                    <div class="md:col-span-2 grid grid-cols-2 gap-8 pt-4 border-t border-white/5">
                        <div><label>E-mail Ouders</label><input type="email" id="pEmail" class="input-luxe" readonly></div>
                        <div><label>Speler ID (Auto)</label><input type="text" id="pId" class="input-luxe text-gray-500 cursor-not-allowed" readonly></div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div id="cardAssessment" class="lg:col-span-2 section-card border-l-4 border-yellow-600">
                    <div class="lock-badge">üîí VERGRENDELD</div>
                    <div class="flex justify-between items-center mb-8">
                        <h3>2. Technische & Tactische Analyse</h3>
                        <button type="button" onclick="fillAI()" class="bg-white/5 text-white px-4 py-2 rounded-lg text-[9px] font-bold uppercase hover:bg-white/10 ai-btn">‚ú® AI Suggesties</button>
                    </div>
                    <div id="skillContainer" class="space-y-4"></div>
                </div>
                
                <div class="section-card bg-black/40 flex flex-col items-center">
                    <h3 class="w-full text-center">Skill Radar</h3>
                    <div class="radar-box"><canvas id="liveRadar" id="radarChart"></canvas></div>
                    <div class="mt-8 text-center">
                        <span class="text-[10px] text-gray-500 font-bold uppercase block">Gemiddelde Score</span>
                        <span id="avgScore" class="text-4xl font-black text-white italic">0.0</span>
                    </div>
                </div>
            </div>

            <div id="cardPop" class="section-card">
                <div class="lock-badge">üîí VERGRENDELD</div>
                <h3>3. Ontwikkelplan (POP)</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-black/40 p-5 rounded-xl border border-white/5"><label class="text-yellow-500">Doelstelling</label><textarea id="g1" class="input-luxe h-24 text-xs" placeholder="Wat is het hoofddoel?"></textarea></div>
                    <div class="bg-black/40 p-5 rounded-xl border border-white/5"><label class="text-yellow-500">Actieplan</label><textarea id="a1" class="input-luxe h-24 text-xs" placeholder="Hoe gaan we dit bereiken?"></textarea></div>
                    <div class="bg-black/40 p-5 rounded-xl border border-white/5"><label class="text-yellow-500">Evaluatie</label><textarea id="pStrengths" class="input-luxe h-10 text-[10px] mb-2" placeholder="Sterke punten"></textarea><textarea id="pGrowth" class="input-luxe h-10 text-[10px]" placeholder="Verbeterpunten"></textarea></div>
                </div>
            </div>

            <div class="flex justify-center pb-10 no-print">
                 <button type="button" onclick="window.print()" class="bg-white/5 hover:bg-white/10 text-white px-10 py-3 rounded-xl uppercase text-[10px] font-black border border-white/10 transition">PDF Exporteren / Printen</button>
            </div>
        </form>
    </div>

    <script type="module">
        import DataProvider from './js/data_provider.js';

        let radarChart, allPlayers = [], currentPlayer = null;
        const skillMap = { 'Techniek': ['bal','pas','aan','drib','schot'], 'Tactiek': ['posi','vrij','sam','oms'], 'Fysiek': ['sne','uit','kra','wen'], 'Mentaal': ['inz','mot','coa','tea'] };
        const labels = { bal:'Balcontrole', pas:'Passen', aan:'Aanname', drib:'Dribbel', schot:'Schot', posi:'Positie', vrij:'Vrijlopen', sam:'Samenspel', oms:'Omschakeling', sne:'Snelheid', uit:'Conditie', kra:'Kracht', wen:'Wendbaar', inz:'Inzet', mot:'Motivatie', coa:'Coachbaar', tea:'Team' };
        
        if(localStorage.getItem('gh_token')) document.getElementById('ghToken').value = localStorage.getItem('gh_token');

        function lockUI() {
            ['cardAssessment', 'cardPop'].forEach(id => {
                document.getElementById(id).classList.add('locked');
                document.getElementById(id).querySelector('.lock-badge').style.display = 'block';
            });
            document.querySelectorAll('#cardAssessment input, #cardAssessment button.ai-btn, #cardPop textarea').forEach(el => el.disabled = true);
            document.getElementById('btnDraft').style.display = 'none';
            document.getElementById('btnFinal').innerText = "üîí Dossier Gesloten";
            document.getElementById('btnFinal').disabled = true;
        }

        function unlockUI() {
            ['cardAssessment', 'cardPop'].forEach(id => {
                document.getElementById(id).classList.remove('locked');
                document.getElementById(id).querySelector('.lock-badge').style.display = 'none';
            });
            document.querySelectorAll('#cardAssessment input, #cardAssessment button.ai-btn, #cardPop textarea').forEach(el => el.disabled = false);
            document.getElementById('btnDraft').style.display = 'inline-block';
            document.getElementById('btnFinal').innerText = "üîí Definitief";
            document.getElementById('btnFinal').disabled = false;
        }

        window.loadPeriodData = () => {
            if(!currentPlayer) return;
            const period = document.getElementById('pPeriod').value;
            const history = currentPlayer.history?.[period];

            if(history) {
                Object.keys(labels).forEach(k => {
                    document.getElementById('s_'+k).value = history.ratings?.[k] || 5;
                    document.getElementById('v_'+k).innerText = history.ratings?.[k] || 5;
                    document.getElementById('o_'+k).value = history.comments?.[k] || "";
                });
                document.getElementById('g1').value = history.pop?.goal || "";
                document.getElementById('a1').value = history.pop?.action || "";
                document.getElementById('pStrengths').value = history.pop?.strengths || "";
                document.getElementById('pGrowth').value = history.pop?.growth || "";
                if(history.status === 'locked') lockUI(); else unlockUI();
            } else {
                document.querySelectorAll('#skillContainer input').forEach(i => i.value = (i.type === 'range' ? 5 : ""));
                document.querySelectorAll('#skillContainer span.score-display').forEach(s => s.innerText = "5");
                document.querySelectorAll('#cardPop textarea').forEach(t => t.value = "");
                unlockUI();
            }
            window.updateRadar();
        };

        window.refreshTCMonitor = () => {
            const period = document.getElementById('pPeriod').value;
            const container = document.getElementById('tcTeamList');
            container.innerHTML = "";
            const teams = [...new Set(allPlayers.map(p => p.bio.team))].sort();
            teams.forEach(team => {
                const teamPlayers = allPlayers.filter(p => p.bio.team === team);
                let html = `<div class="bg-white/5 p-4 rounded-xl border border-white/5"><h4 class="text-white font-bold text-xs mb-3 border-b border-white/10 pb-2">${team}</h4><ul class="space-y-2">`;
                teamPlayers.forEach(p => {
                    const status = p.history?.[period]?.status || 'missing';
                    let dotClass = status === 'locked' ? 'dot-green' : (status === 'draft' ? 'dot-orange' : 'dot-red');
                    html += `<li class="flex justify-between items-center text-[10px] text-gray-300"><span>${p.bio.name}</span><span class="status-dot ${dotClass}"></span></li>`;
                });
                html += `</ul></div>`;
                container.innerHTML += html;
            });
        };

        window.savePlayer = async (status) => {
            const token = document.getElementById('ghToken').value;
            if(!token) return alert("GitHub Token vereist!");
            if(!currentPlayer) return alert("Selecteer eerst een speler!");
            
            const period = document.getElementById('pPeriod').value;
            const ratings = {}; const comments = {};
            Object.keys(labels).forEach(k => {
                ratings[k] = parseInt(document.getElementById('s_'+k).value);
                comments[k] = document.getElementById('o_'+k).value;
            });

            // Clone de huidige speler data zodat we alleen de history updaten
            const playerData = { ...currentPlayer };
            
            if(!playerData.history) playerData.history = {};
            playerData.history[period] = {
                status: status,
                lastUpdated: new Date().toISOString(),
                ratings: ratings,
                comments: comments,
                pop: {
                    goal: document.getElementById('g1').value,
                    action: document.getElementById('a1').value,
                    strengths: document.getElementById('pStrengths').value,
                    growth: document.getElementById('pGrowth').value
                }
            };

            try {
                await DataProvider.updatePlayer(playerData, token);
                alert(status === 'locked' ? "‚úÖ Dossier definitief vergrendeld!" : "üíæ Concept opgeslagen.");
                allPlayers = await DataProvider.getAllPlayers(); 
                currentPlayer = allPlayers.find(p => p.id === playerData.id);
                loadPeriodData();
                refreshTCMonitor();
            } catch(err) { alert("‚ùå Fout: " + err.message); }
        };

        window.fillAI = () => {
            Object.keys(labels).forEach(k => {
                const val = parseInt(document.getElementById('s_'+k).value);
                const field = document.getElementById('o_'+k);
                if(val >= 8) field.value = "Elite niveau. Vasthouden.";
                else if(val <= 5) field.value = "Prioriteit voor ontwikkeling.";
                else field.value = "Stabiele basis, focus op details.";
            });
        };

        window.updateRadar = () => {
            const values = [];
            let total = 0, count = 0;
            Object.values(skillMap).forEach(keys => {
                const avg = keys.reduce((a, b) => {
                    const v = parseInt(document.getElementById('s_'+b).value || 5);
                    total += v; count++;
                    return a + v;
                }, 0) / keys.length;
                values.push(avg);
            });
            radarChart.data.datasets[0].data = values;
            radarChart.update();
            document.getElementById('avgScore').innerText = (total / count).toFixed(1);
        };

        async function init() {
            const container = document.getElementById('skillContainer');
            Object.keys(skillMap).forEach(cat => {
                container.innerHTML += `<h4 class="text-[9px] text-gray-500 uppercase font-bold mt-6 mb-2 tracking-[2px]">${cat}</h4>`;
                skillMap[cat].forEach(key => {
                    container.innerHTML += `<div class="grid grid-cols-1 md:grid-cols-12 gap-4 items-center bg-black/30 p-3 rounded-lg border border-white/5 hover:border-yellow-600/30 transition">
                        <div class="md:col-span-3 flex justify-between"><label class="text-white font-bold mb-0">${labels[key]}</label><span id="v_${key}" class="score-display text-xs">5</span></div>
                        <div class="md:col-span-4"><input type="range" id="s_${key}" min="1" max="10" value="5" class="slider-gold" oninput="v_${key}.innerText=this.value; updateRadar();"></div>
                        <div class="md:col-span-5"><input type="text" id="o_${key}" placeholder="Notitie..." class="input-luxe py-1 text-[10px] bg-transparent border-none italic"></div>
                    </div>`;
                });
            });

            allPlayers = await DataProvider.getAllPlayers();
            document.getElementById('assetSearch').innerHTML = '<option value="">ZOEK SPELER...</option>' + allPlayers.map(p => `<option value="${p.id}">${p.bio.name} (${p.bio.team})</option>`).join('');

            radarChart = new Chart(document.getElementById('liveRadar').getContext('2d'), {
                type: 'radar',
                data: { labels: ['Techniek', 'Tactiek', 'Fysiek', 'Mentaal'], datasets: [{ data: [5,5,5,5], backgroundColor: 'rgba(212, 175, 55, 0.25)', borderColor: '#D4AF37', borderWidth: 2, pointRadius: 3 }] },
                options: { scales: { r: { min: 0, max: 10, ticks: { display: false }, grid: { color: 'rgba(255,255,255,0.05)' }, angleLines: { color: 'rgba(255,255,255,0.1)' } } }, plugins: { legend: { display: false } } }
            });

            document.getElementById('loadBtn').onclick = (e) => {
                e.preventDefault();
                const p = allPlayers.find(x => x.id === document.getElementById('assetSearch').value);
                if(p) {
                    currentPlayer = p;
                    document.getElementById('pName').value = p.bio.name;
                    document.getElementById('pId').value = p.id;
                    document.getElementById('pNumber').value = p.bio.number;
                    // Deze velden zijn nu inputs, geen selects meer
                    document.getElementById('pTeam').value = p.bio.team;
                    document.getElementById('pPos').value = p.bio.role;
                    document.getElementById('pPhotoUrl').value = p.bio.photo;
                    document.getElementById('pPreviewImg').src = p.bio.photo;
                    document.getElementById('pEmail').value = p.bio.email || "";
                    document.getElementById('dispName').innerText = p.bio.name;
                    document.getElementById('dispNumber').innerText = p.bio.number;
                    document.getElementById('dispTeam').innerText = `${p.bio.team} ‚Ä¢ ${p.bio.role}`;
                    loadPeriodData();
                }
            };
        }
        init();
    </script>
</body>
</html>
